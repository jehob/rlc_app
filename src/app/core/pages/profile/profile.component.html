<!--
  ~ rlcapp - record and organization management software for refugee law clinics
  ~ Copyright (C) 2019  Dominik Walser
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<mat-card class="profile__profile-container">

    <mat-card-header>
        <div class="profile__avatar-container">
            <img class="profile__img-avatar" src="../../../../../static/images/empty-profile.png" alt="Avater">
            <span class="profile__caption">{{ user ? user.name : '' }}</span>
        </div>
    </mat-card-header>

    <mat-card-content>
        <div class="profile__form-container">
            <form [formGroup]="userForm" class="profile__form-container">
                <p>Email: {{ user ? user.email : ''}}</p>
                <mat-form-field>
                    <input matInput placeholder="Tel. No." formControlName="phone_number">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Street, No." formControlName="street">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Postal Code" formControlName="postal_code">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="City" formControlName="city">
                </mat-form-field>
                <mat-form-field>
                    <input matInput [matDatepicker]="picker" placeholder="Birth Date" formControlName="birthday">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <app-autocomplete [allValuesObservable]="allUserStates" placeholder="user state"
                                  [setSelectedValue]="selectedUserState" valueToShow="full_name"
                                  (selectedValueChanged)="onSelectedUserStateChanged($event)">
                </app-autocomplete>
                <app-autocomplete [allValuesObservable]="allUserRecordStates" placeholder="user record state"
                                  [setSelectedValue]="selectedUserRecordState" valueToShow="full_name"
                                  (selectedValueChanged)="onSelectedUserRecordStateChanged($event)">
                </app-autocomplete>
            </form>

        </div>
    </mat-card-content>
    <!--<input #fileInput type="file" id="file_input"/>-->
    <!--<button mat-flat-button (click)="onUploadClick()">Save Pic</button>-->
    <mat-card-actions>
        <button class="profile__btn-save-changes" mat-flat-button [disabled]="!userForm.valid" (click)="onSaveClick()">
            Save
        </button>
    </mat-card-actions>
</mat-card>
